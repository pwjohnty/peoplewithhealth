<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:syncfusion="clr-namespace:Syncfusion.Maui.ListView;assembly=Syncfusion.Maui.ListView"
             xmlns:progressBar="clr-namespace:Syncfusion.Maui.ProgressBar;assembly=Syncfusion.Maui.ProgressBar"
             xmlns:chip="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             xmlns:popup="clr-namespace:Syncfusion.Maui.Popup;assembly=Syncfusion.Maui.Popup"
             xmlns:inputLayout="clr-namespace:Syncfusion.Maui.Core;assembly=Syncfusion.Maui.Core"
             x:Class="PeopleWith.AddSupplement" NavigationPage.HasNavigationBar="False"
             HideSoftInputOnTapped="True"
             xmlns:local="clr-namespace:PeopleWith" BackgroundColor="White" >
    <ContentPage.ToolbarItems>

    </ContentPage.ToolbarItems>




    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="25*"/>
                <ColumnDefinition Width="50*"/>
                <ColumnDefinition Width="25*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <progressBar:SfLinearProgressBar Progress="16.67" VerticalOptions="Center" x:Name="topprogress" IsVisible="false" BackgroundColor="Transparent" Grid.Column="1" Maximum="100" Grid.Row="0" Margin="0,5,0,0" SegmentCount="6" HorizontalOptions="Center" WidthRequest="100" TrackCornerRadius="10" ProgressFill="#ac5735" TrackFill="#f9f4e5" ProgressCornerRadius="10"
                         />

            <Button
  BackgroundColor="White"
  HorizontalOptions="EndAndExpand"
  TextColor="#ac5735" Clicked="nextbtn_Clicked"
        x:Name="nextbtn" FontSize="12"
  FontAttributes="None" Grid.Row="0" Grid.Column="2"
       Margin="0,0,10,0"
  FontFamily="HankenGroteskBold"
  Text="Next" />

            <Button
  BackgroundColor="Transparent"
  HorizontalOptions="Start"
  TextColor="#031926" FontSize="12"
        x:Name="backbtn" Clicked="backbtn_Clicked"
  FontAttributes="None" Grid.Row="0" Grid.Column="0"
       Margin="10,0,0,0"
  FontFamily="HankenGroteskBold"
  Text="Cancel" />

            <Label Text="EDIT SUPPLEMENT" x:Name="editframe" IsVisible="False"  Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Margin="0,0,0,0" FontFamily="HankenGroteskBold" FontSize="14"  HorizontalOptions="Center" VerticalOptions="Center" TextColor="#ac5735" />


        </Grid>

        <ScrollView Grid.Row="1">
            <StackLayout>


                <StackLayout HorizontalOptions="Center" IsVisible="False" x:Name="loadingstack" VerticalOptions="CenterAndExpand">
                    <ActivityIndicator IsRunning="True" Color="#031926" HorizontalOptions="Center" VerticalOptions="Start" />
                    <Label Text="Loading Supplements..." TextColor="#031926" FontFamily="HankenGroteskRegular" HorizontalOptions="Center" Margin="0,5,0,0" VerticalOptions="Center" VerticalTextAlignment="Center" />

                </StackLayout>

                <StackLayout x:Name="firststack" IsVisible="False">
                    <Label Text="Add Supplement" FontFamily="HankenGroteskBold" FontSize="26"  Margin="20,20,0,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />

                    <Label Text="To add a Supplement type into the search bar below, then Select the Supplement from the list below."  Margin="20,5,20,0" FontFamily="HankenGroteskRegular" FontSize="12"  HorizontalOptions="Center" VerticalOptions="Center" TextColor="Gray" />


                    <Grid Margin="20,10,20,0" x:Name="MainGrid">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>


                        <Frame Padding="0" HasShadow="False" Grid.Row="0" Grid.Column="0" Margin="0,0,0,0" InputTransparent="False" BorderColor="Transparent" BackgroundColor="#f9f4e5" CornerRadius="{OnPlatform Android='5', iOS='5'}" >
                            <Grid >
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="10*"/>
                                    <ColumnDefinition Width="80*"/>
                                    <ColumnDefinition Width="15*"/>
                                </Grid.ColumnDefinitions>
                                <Image Source="searchorange.png" HorizontalOptions="Center" HeightRequest="15" BackgroundColor="Transparent" WidthRequest="15"  Grid.Row="0" Grid.Column="0"  />
                                <Entry Grid.Row="0" Grid.Column="1" TextChanged="searchbar_TextChanged" FontFamily="HankenGroteskRegular" IsTextPredictionEnabled="False" IsSpellCheckEnabled="False" x:Name="searchbar"  ClearButtonVisibility="Never" InputTransparent="False"   Placeholder="Search Supplement"  BackgroundColor="Transparent" Background="Transparent" HeightRequest="60"  TextColor="#ac5735"/>
                                <Image Source="filterorange.png" HeightRequest="15" BackgroundColor="Transparent" WidthRequest="15" IsVisible="False"  Grid.Row="0" Grid.Column="3"  >
                                    <Image.GestureRecognizers>
                                        <TapGestureRecognizer  NumberOfTapsRequired="1"/>
                                    </Image.GestureRecognizers>
                                </Image>
                            </Grid>
                        </Frame>



                        <ActivityIndicator x:Name="medsloading" Margin="0,0,0,0"  Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" HorizontalOptions="Center" VerticalOptions="Start"  IsVisible="False" IsRunning="True" Color="#ac5735" />

                        <StackLayout x:Name="ListViewStack" Margin="0,20,0,0" Grid.Row="3" IsVisible="True" Grid.Column="0" Grid.RowSpan="2">
                            <Label x:Name="Results" Margin="0,0,20,0" Grid.Row="3" Grid.Column="0"  HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" FontSize="16" FontFamily="HankenGroteskBold" />


                            <syncfusion:SfListView x:Name="Medicationslistview" SelectionMode="Single" ItemTapped="Medicationslistview_ItemTapped" IsVisible="False" AutoFitMode="Height" BackgroundColor="Transparent"  Grid.Row="4" Grid.Column="0" Padding="5"  Margin="0,0,0,50" ScrollBarVisibility="Never">
                                <syncfusion:SfListView.ItemTemplate>
                                    <DataTemplate>
                                        <ViewCell>

                                            <Grid VerticalOptions="Start" Margin="0,10,0,0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <Label Text="{Binding title}" FontFamily="HankenGroteskRegular" Margin="5,0,0,0" Grid.Row="0" Grid.Column="0" Padding="0" HorizontalOptions="Start"  VerticalOptions="Start" TextColor="#031926" FontSize="14" FontAttributes="None" />

                                                <Label Text="Supplement Already Added" IsVisible="{Binding AlreadySelected}"  FontFamily="HankenGroteskBold" Margin="5,5,0,5" Grid.Row="1" Grid.Column="0" Padding="0" HorizontalOptions="Start"  VerticalOptions="Start" TextColor="#ac5735" FontSize="12" FontAttributes="None" />


                                                <BoxView Grid.Column="0" Grid.Row="2" HeightRequest="1" HorizontalOptions="FillAndExpand" Margin="0,5,0,5" Color="#f9f4e5" BackgroundColor="#f9f4e5"/>

                                            </Grid>


                                        </ViewCell>
                                    </DataTemplate>
                                </syncfusion:SfListView.ItemTemplate>
                                <syncfusion:SfListView.SelectedItemTemplate>
                                    <DataTemplate>

                                        <Frame HasShadow="False" CornerRadius="5" BackgroundColor="#f9f4e5" Margin="0,0,0,0" BorderColor="Transparent" Padding="0">

                                            <Grid VerticalOptions="Start" Margin="0,10,0,0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <Label Text="{Binding title}" FontFamily="HankenGroteskRegular" Margin="5,0,0,0" Grid.Row="0" Grid.Column="0" Padding="0" HorizontalOptions="Start"  VerticalOptions="Start" TextColor="#031926" FontSize="14" FontAttributes="None" />

                                                <Label Text="Medication Already Added" IsVisible="{Binding AlreadySelected}"  FontFamily="HankenGroteskBold" Margin="5,5,0,5" Grid.Row="1" Grid.Column="0" Padding="0" HorizontalOptions="Start"  VerticalOptions="Start" TextColor="#ac5735" FontSize="12" FontAttributes="None" />


                                                <BoxView Grid.Column="0" Grid.Row="2" HeightRequest="1" HorizontalOptions="FillAndExpand" Margin="0,5,0,5" Color="#f9f4e5" BackgroundColor="#f9f4e5"/>

                                            </Grid>
                                        </Frame>

                                    </DataTemplate>
                                </syncfusion:SfListView.SelectedItemTemplate>
                            </syncfusion:SfListView>
                        </StackLayout>
                    </Grid>

                    <ActivityIndicator x:Name="MedListLoading" Margin="0,0,0,0"  HorizontalOptions="Center" VerticalOptions="Start"  IsVisible="False" IsRunning="True" Color="Teal" />
                    <Label x:Name="MedListLoadlbl" Text="Loading Supplements Results..." TextColor="#031926" IsVisible="False" FontFamily="HankenGroteskRegular" HorizontalOptions="Center" Margin="0,5,0,0" VerticalOptions="Center" VerticalTextAlignment="Center" />


                </StackLayout>

                <StackLayout x:Name="secondstack" Margin="20,0,0,0" IsVisible="False">

                    <Label x:Name="mednamelbl" FontFamily="HankenGroteskBold" FontSize="26"  Margin="0,20,10,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />


                    <Label Text="Supplement Preparation" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please select the supplement preparation from the options" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="medpreparationslistview"
                               AutoFitMode="Height"
                                                         ItemTapped="medpreparationslistview_ItemTapped"
                          Margin="0,10,10,0"
                                                          
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding title}" Margin="0,0,0,0" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding title}" Margin="0,0,0,0" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label Text="Supplement Formulation (Optional)" x:Name="mflbl" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please select the supplement formulation from the options" x:Name="mf2lbl" IsVisible="False" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="medformulationslistview"
                               AutoFitMode="Height"
                                                      IsVisible="False"   
                          Margin="0,10,10,0"
                                                         ItemTapped="medformulationslistview_ItemTapped" 
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0"  HorizontalTextAlignment="Center"  FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label Text="Dosage Unit" x:Name="dflbl" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please select the supplement dosage unit from the options" x:Name="df2lbl" IsVisible="False" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="meddosageunitlistview"
                               AutoFitMode="Height"
                                                      IsVisible="False"   
                          Margin="0,10,10,100"
                                                      ItemTapped="meddosageunitlistview_ItemTapped"    
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                </StackLayout>

                <StackLayout x:Name="thirdstack" Margin="20,0,0,0" IsVisible="False">


                    <Label x:Name="medname2lbl" FontFamily="HankenGroteskBold" FontSize="26"  Margin="0,20,10,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />


                    <Label Text="Supplement Duration" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please select the supplement preparation from the options" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                    <Border Stroke="LightGray"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10"
Background="Transparent"
HorizontalOptions="FillAndExpand">

                        <Grid HorizontalOptions="FillAndExpand">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50*"/>
                                <ColumnDefinition Width="50*"/>
                            </Grid.ColumnDefinitions>

                            <Grid HorizontalOptions="FillAndExpand" Grid.Column="0" Grid.Row="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="15*"/>
                                    <ColumnDefinition Width="35*"/>

                                </Grid.ColumnDefinitions>



                                <Image Source="icondatepicker.png"  VerticalOptions="CenterAndExpand" HorizontalOptions="Center" Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" HeightRequest="25" WidthRequest="25" />
                                <Label Text="Start Date" Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,10,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />

                                <DatePicker x:Name="startdatepicker" PropertyChanged="startdatepicker_PropertyChanged" BackgroundColor="Transparent" Grid.Row="1" Grid.Column="1" FontSize="16" Margin="-5,-10,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                            </Grid>

                            <Grid HorizontalOptions="FillAndExpand" x:Name="enddategrid" Grid.Column="1" Opacity="0.2" Grid.Row="0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="15*"/>
                                    <ColumnDefinition Width="35*"/>

                                </Grid.ColumnDefinitions>



                                <Image Source="icondatepicker.png" VerticalOptions="CenterAndExpand" HorizontalOptions="Center" Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" HeightRequest="25" WidthRequest="25" />

                                <Label Text="End Date" Grid.Row="0" Grid.Column="3" FontSize="10" Margin="0,10,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />
                                <Label Grid.Row="1" Grid.Column="3" IsVisible="False"  FontSize="16" Margin="0,-5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                                <DatePicker x:Name="enddatepicker" Grid.Row="1" Grid.Column="1" IsEnabled="False"  FontSize="16" Margin="-5,-10,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                            </Grid>



                        </Grid>




                    </Border>

                    <HorizontalStackLayout HorizontalOptions="Center">


                        <Label Text="Do you have an End Date ?"  FontSize="12" Margin="0,0,0,0" VerticalOptions="Center" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                        <CheckBox Color="#ac5735" VerticalOptions="Center" x:Name="enddatecheck" CheckedChanged="CheckBox_CheckedChanged" />

                    </HorizontalStackLayout>



                </StackLayout>


                <StackLayout x:Name="fourthstack" Margin="20,0,0,0" IsVisible="False">

                    <Label x:Name="medname3lbl" FontFamily="HankenGroteskBold" FontSize="26"  Margin="0,20,10,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />


                    <Label Text="Frequency" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please set up the supplement frequency, we will send you notifcation reminder to take to take your supplements" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                    <syncfusion:SfListView x:Name="medfreqlistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="medfreqlistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="2"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding title}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding title}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="freqlbl" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <!--Daily -->

                    <syncfusion:SfListView x:Name="dailytimeslistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="dailytimeslistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="onedailylbl" Text="Time of day" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="oncedailylistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="oncedailylistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>


                    <!--Days of week -->
                    <syncfusion:SfListView x:Name="weeklydayslist"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="weeklydayslist_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Multiple"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="4"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="weekfreqlbl" Text="How many times per day" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="weekfreqlistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="weekfreqlistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="4"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="sameweeklydosage" Text="Is the dosage the same across all days" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="samedosageweeklylist"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                         ItemTapped="samedosageweeklylist_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="2"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="sameweeklydosage2" Text="Is your dosage the same for every time" IsVisible="False" FontSize="20" Margin="0,20,0,10" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="samedosageweeklylist2"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                         ItemTapped="samedosageweeklylist2_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="2"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Frame CornerRadius="10" x:Name="weeklyyesnoframe" IsVisible="False"  Margin="5,20,15,5" Padding="5" HasShadow="False" BackgroundColor="#f9f4e5" InputTransparent="False"
BorderColor="#f9f4e5">

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50*"/>
                                <ColumnDefinition Width="50*"/>
                            </Grid.ColumnDefinitions>

                            <Label Text="Are all the dosages the same for each day?" Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" FontSize="14" Margin="0,10,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />

                            <Button Grid.Row="1" x:Name="btnyes" Clicked="btnyes_Clicked" Grid.Column="0" BorderColor="Transparent" BorderWidth="1" Text="Yes" HeightRequest="30" FontFamily="HankenGroteskBold" Padding="0" Margin="0,10,5,0" BackgroundColor="White" TextColor="#ac5735" />
                            <Button Grid.Row="1" x:Name="btnno" Clicked="btnno_Clicked" Grid.Column="1" BorderColor="Transparent" BorderWidth="1" Text="No" HeightRequest="30" FontFamily="HankenGroteskBold" Padding="0" Margin="5,10,0,0" BackgroundColor="White" TextColor="#ac5735" />



                        </Grid>


                    </Frame>


                    <!--Days Interval-->
                    <syncfusion:SfListView x:Name="daysintervallistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                          ItemTapped="daysintervallistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="difreqlbl" Text="How many times per day" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="ditimesperdaylist"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                             ItemTapped="ditimesperdaylist_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="4"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>

                    <Label x:Name="disamedosagelbl" Text="Is your dosage the same for every time" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                    <syncfusion:SfListView x:Name="disamedosagequestionlist"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,10,10,0"
                                                       ItemTapped="disamedosagequestionlist_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="Single"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="2"/>
                        </syncfusion:SfListView.ItemsLayout>
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="True"
                  BorderColor="#f9f4e5">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskRegular"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="Gray" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>
                        <syncfusion:SfListView.SelectedItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" InputTransparent="True" BackgroundColor="#f9f4e5"
BorderColor="Transparent">
                                        <Grid HorizontalOptions="Center" VerticalOptions="Center" Margin="0" Padding="0"  >
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!--<Image Source="compare.png" Grid.Row="0" HeightRequest="20" VerticalOptions="Start"  Margin="0,0,0,5"/>-->

                                            <Label Text="{Binding .}" Margin="0,0,0,0" HorizontalTextAlignment="Center" FontFamily="HankenGroteskBold"  Grid.Row="1" VerticalOptions="StartAndExpand"  TextColor="#ac5735" FontSize="14" />
                                        </Grid>
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.SelectedItemTemplate>
                    </syncfusion:SfListView>


                    <Label x:Name="adddosagelbl" IsVisible="False"  Text="Add Dosage" FontSize="16" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Please add your dosage below, we will apply your dosage to each of your times" x:Name="adddosage2lbl" IsVisible="False" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                    <Frame Padding="0" HasShadow="False" x:Name="adddosageframe" IsVisible="False" HeightRequest="60" Margin="0,10,15,0" InputTransparent="False" BorderColor="Transparent" BackgroundColor="#f9f4e5" CornerRadius="{OnPlatform Android='5', iOS='5'}" >
                        <Grid >
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20*"/>
                                <ColumnDefinition Width="30*"/>
                                <ColumnDefinition Width="20*"/>
                                <ColumnDefinition Width="30*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Image Source="pillicon.png" HorizontalOptions="FillAndExpand" HeightRequest="30" BackgroundColor="Transparent" WidthRequest="35"  Grid.Row="0" Grid.Column="0"  />
                            <Entry Grid.Row="0" Grid.Column="1" FontSize="16" HorizontalTextAlignment="Center" Completed="samedosageentry_Completed" HorizontalOptions="FillAndExpand" FontFamily="HankenGroteskRegular" Keyboard="Numeric" x:Name="samedosageentry" TextChanged="Entry_TextChanged_1" IsTextPredictionEnabled="False" IsSpellCheckEnabled="False"   ClearButtonVisibility="Never" InputTransparent="False"   Placeholder="Add"  BackgroundColor="Transparent" Background="Transparent" HeightRequest="60"  TextColor="#031926"/>
                            <Label IsVisible="True" x:Name="dosageunitlbl" Grid.Row="0" Grid.Column="2" FontSize="12" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" VerticalOptions="Center" />
                            <Entry Grid.Row="0" Grid.Column="3" FontSize="16" HorizontalTextAlignment="Center" IsVisible="False" HorizontalOptions="FillAndExpand" FontFamily="HankenGroteskRegular" Keyboard="Numeric" x:Name="samedosageentry2" TextChanged="samedosageentry2_TextChanged_1" IsTextPredictionEnabled="False" IsSpellCheckEnabled="False"   ClearButtonVisibility="Never" InputTransparent="False"   Placeholder="Add"  BackgroundColor="Transparent" Background="Transparent" HeightRequest="60"  TextColor="#031926"/>

                        </Grid>
                    </Frame>

                    <Button Text="Apply"  Margin="0,10,15,0" HorizontalOptions="FillAndExpand" IsVisible="False" FontFamily="HankenGroteskRegular" BackgroundColor="#ac5735" CornerRadius="5" HeightRequest="30" Padding="0"/>


                    <!--Time and Dosage List-->
                    <Label x:Name="timeanddosagelbl" Text="Times and Dosages" IsVisible="False" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label  x:Name="timeanddosagelbl2" IsVisible="False"  FontSize="12" Margin="0,0,15,10" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />







                    <syncfusion:SfListView x:Name="timesanddosageslistview"
                               AutoFitMode="Height"
                                                    IsVisible="False"
                          Margin="0,0,10,50"
                                              ItemTapped="timesanddosageslistview_ItemTapped"
                                                BackgroundColor="Transparent"
                                        SelectionMode="None"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                        <!--<syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>-->
                        <syncfusion:SfListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <StackLayout>
                                        <Label Text="{Binding Day}" FontSize="12" Margin="20,0,0,0" VerticalOptions="Start" TextColor="#ac5735"   FontAttributes="None" HorizontalOptions="Start" />

                                        <Frame CornerRadius="10"  Margin="5,5,5,5" IsVisible="{Binding NormalDosage}" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="False"
BorderColor="#f9f4e5">
                                            <Grid HorizontalOptions="FillAndExpand">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="50*"/>
                                                    <ColumnDefinition Width="50*"/>
                                                </Grid.ColumnDefinitions>

                                                <Grid HorizontalOptions="FillAndExpand" Grid.Column="0" Grid.Row="0">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="15*"/>
                                                        <ColumnDefinition Width="35*"/>

                                                    </Grid.ColumnDefinitions>

                                                    <Image Source="icontimepicker.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" HeightRequest="25" VerticalOptions="Center" HorizontalOptions="Center"  Margin="5,10,0,0"/>


                                                    <Label Text="Time" Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                                                    <Label Text="N/A" IsVisible="{Binding AsReqlblVis}" Margin="0,20,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26"/>


                                                    <TimePicker Time="{Binding timeconverted}" IsVisible="{Binding TimepickerVis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26">

                                                    </TimePicker>
                                                </Grid>
                                                <Grid HorizontalOptions="FillAndExpand" Grid.Column="1" Grid.Row="0">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>


                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="15*"/>
                                                        <ColumnDefinition Width="35*"/>

                                                    </Grid.ColumnDefinitions>

                                                    <Image Source="pillicon.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" HeightRequest="25" VerticalOptions="Center" HorizontalOptions="Start"  Margin="5,10,0,0"/>


                                                    <Label Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start">
                                                        <Label.FormattedText>
                                                            <FormattedString>
                                                                <Span Text="Dosage - " TextColor="#031926" />
                                                                <Span Text="{Binding dosageunit}" TextColor="#ac5735"  FontAttributes="Bold"/>
                                                            </FormattedString>
                                                        </Label.FormattedText>
                                                    </Label>
                                                    <local:ExtendedLabel Text="{Binding Dosage}" IsVisible="{Binding Labelvis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalTextAlignment="Center" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="26" >
                                                        <local:ExtendedLabel.GestureRecognizers>
                                                            <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped"/>
                                                        </local:ExtendedLabel.GestureRecognizers>
                                                    </local:ExtendedLabel>
                                                    <Entry Placeholder="Dosage" x:Name="DosageEntry" IsVisible="{Binding Entryvis}" Text="{Binding Dosage}" ReturnType="Done" PlaceholderColor="LightGrey" Margin="0,10,0,0" FontFamily="HankenGroteskBold" Keyboard="Numeric" HorizontalTextAlignment="Start" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="26" TextChanged="Entry_TextChanged" />

                                                    <!--<Label Text="{Binding dosageunit}" Margin="0,0,0,-5" FontFamily="HankenGroteskRegular" HorizontalOptions="Center"  Grid.Row="2" Grid.RowSpan="1" Grid.Column="4" VerticalOptions="End"  TextColor="Gray" FontSize="12" />-->

                                                    <TimePicker Time="{Binding timeconverted}" IsEnabled="False" Opacity="0" IsVisible="True" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26">

                                                    </TimePicker>

                                                </Grid>


                                            </Grid>
                                        </Frame>

                                        <Frame CornerRadius="10" IsVisible="{Binding DoubleDosage}"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="False"
BorderColor="#f9f4e5">
                                            <Grid HorizontalOptions="FillAndExpand">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="10*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="15*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="30*"/>
                                                </Grid.ColumnDefinitions>




                                                <Image Source="icontimepicker.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" HeightRequest="20" VerticalOptions="Center" HorizontalOptions="Center"  Margin="5,10,0,0"/>


                                                <Label Text="Time" Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                                                <Label Text="N/A" IsVisible="{Binding AsReqlblVis}" Margin="0,20,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26"/>


                                                <TimePicker Time="{Binding timeconverted}" IsVisible="{Binding TimepickerVis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="18">

                                                </TimePicker>


                                                <Image Source="pillicon.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="2" HeightRequest="20" VerticalOptions="Center" HorizontalOptions="Start"  Margin="5,10,0,0"/>


                                                <Label Grid.Row="0" Grid.Column="3" Grid.ColumnSpan="3" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start">
                                                    <Label.FormattedText>
                                                        <FormattedString>
                                                            <Span Text="Dosage - " TextColor="#031926" />
                                                            <Span Text="{Binding dosageunit}" TextColor="#ac5735"  FontAttributes="Bold"/>
                                                        </FormattedString>
                                                    </Label.FormattedText>
                                                </Label>
                                                <local:ExtendedLabel Text="{Binding Dosage}" IsVisible="{Binding Labelvis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalTextAlignment="Center" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="3" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="18" >
                                                    <local:ExtendedLabel.GestureRecognizers>
                                                        <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped"/>
                                                    </local:ExtendedLabel.GestureRecognizers>
                                                </local:ExtendedLabel>
                                                <Entry Placeholder="Dosage"  IsVisible="{Binding Entryvis}" Text="{Binding Dosage}" ReturnType="Done" PlaceholderColor="LightGrey" Margin="0,10,0,0" FontFamily="HankenGroteskBold" Keyboard="Numeric" HorizontalTextAlignment="Start" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="3" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="18" TextChanged="Entry_TextChanged" />

                                                <!--<Label Text="{Binding dosageunit}" Margin="0,0,0,-5" FontFamily="HankenGroteskRegular" HorizontalOptions="Center"  Grid.Row="2" Grid.RowSpan="1" Grid.Column="4" VerticalOptions="End"  TextColor="Gray" FontSize="12" />-->


                                                <Label Grid.Row="0" Grid.RowSpan="2" Grid.Column="4" Grid.ColumnSpan="1" FontSize="8" Margin="0,5,0,0" VerticalOptions="Center" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center">
                                                    <Label.FormattedText>
                                                        <FormattedString>

                                                            <Span Text="{Binding dosageunit}" TextColor="#031926"  FontAttributes="Bold"/>
                                                        </FormattedString>
                                                    </Label.FormattedText>
                                                </Label>

                                                <local:ExtendedLabel Text="{Binding Dosage2}" IsVisible="{Binding Labelvis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalTextAlignment="Center" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="5" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="18" >

                                                </local:ExtendedLabel>
                                                <Entry Placeholder="Dosage"  IsVisible="{Binding Entryvis}" Text="{Binding Dosage2}" ReturnType="Done" PlaceholderColor="LightGrey" Margin="0,10,0,0" FontFamily="HankenGroteskBold" Keyboard="Numeric" HorizontalTextAlignment="Start" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="5" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="18" TextChanged="Entry_TextChanged" />



                                            </Grid>
                                        </Frame>



                                    </StackLayout>
                                </ViewCell>
                            </DataTemplate>
                        </syncfusion:SfListView.ItemTemplate>

                    </syncfusion:SfListView>



                </StackLayout>

                <StackLayout x:Name="detailsstack" Margin="20,0,0,0" IsVisible="False">

                    <Label x:Name="medname4lbl" FontFamily="HankenGroteskBold" FontSize="26"  Margin="0,20,10,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />


                    <Label Text="Display Name (Optional)" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="This display name is only for your personal use to support supplement reminders. Before administration of a supplement please ensure the correct supplement is being taken and do not rely solely on the supplement display name." FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                    <Border Stroke="#f9f4e5"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10" HeightRequest="40"
Background="Transparent"
HorizontalOptions="FillAndExpand">

                        <Entry Placeholder="Display Name" x:Name="displaynameentry" PlaceholderColor="LightGray" VerticalOptions="FillAndExpand" TextColor="#031926" FontFamily="HankenGroteskRegular" HorizontalOptions="FillAndExpand" />

                    </Border>


                    <Label Text="Notes (Optional)" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Add any notes about your supplement" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                    <Border Stroke="#f9f4e5"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10" HeightRequest="150"
Background="Transparent"
HorizontalOptions="FillAndExpand">
                        <Editor  Placeholder="Add Notes" x:Name="notesentry" PlaceholderColor="LightGray" VerticalOptions="FillAndExpand" TextColor="#031926" FontFamily="HankenGroteskRegular" HorizontalOptions="FillAndExpand" />
                    </Border>

                </StackLayout>

                <StackLayout x:Name="confirmstack" Margin="20,0,0,0" IsVisible="False">

                    <Label x:Name="medname5lbl" FontFamily="HankenGroteskBold" FontSize="26"  Margin="0,20,10,0" HorizontalOptions="Start" VerticalOptions="Center" TextColor="#031926" />


                    <Label Text="Confirm Supplement" FontSize="20" Margin="0,20,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Label Text="Check all the details of your supplement" FontSize="12" Margin="0,0,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />

                    <Label Text="Details" FontSize="16" Margin="0,20,0,0" TextColor="#ac5735" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Border Stroke="#f9f4e5"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10" 
Background="Transparent"
HorizontalOptions="FillAndExpand">
                        <StackLayout Margin="10,10,0,10">
                            <Label Text="Display Name"  FontSize="12" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />
                            <Label x:Name="confirmdisplaynamelbl" FontSize="16" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                            <Label Text="Notes" FontSize="12" Margin="0,10,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />
                            <Label x:Name="confirmnoteslbl" FontSize="16" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="33*"/>
                                    <ColumnDefinition Width="33*"/>
                                    <ColumnDefinition Width="33*"/>
                                </Grid.ColumnDefinitions>

                                <Label Text="Preparation" FontSize="12" Grid.Row="0" Grid.Column="0" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                                <Label x:Name="confirmpreplbl" FontSize="16" Grid.Row="1" Grid.Column="0" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />

                                <Label Text="Formulation" FontSize="12" Grid.Row="0" Grid.Column="1" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                                <Label x:Name="confirmformlbl" FontSize="16" Grid.Row="1" Grid.Column="1" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />

                                <Label Text="Dosage Unit" FontSize="12" Grid.Row="0" Grid.Column="2" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                                <Label x:Name="confirmdulbl" FontSize="16" Grid.Row="1" Grid.Column="2" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />


                            </Grid>



                        </StackLayout>
                    </Border>

                    <Label Text="Duration" FontSize="16" Margin="0,20,0,0" TextColor="#ac5735" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Border Stroke="#f9f4e5"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10" 
Background="Transparent"
HorizontalOptions="FillAndExpand">
                        <StackLayout Margin="10,10,0,10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="50*"/>
                                    <ColumnDefinition Width="50*"/>
                                </Grid.ColumnDefinitions>

                                <Label Text="Start Date" FontSize="12" Grid.Row="0" Grid.Column="0" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                                <Label x:Name="confirmsdlbl" FontSize="16" Grid.Row="1" Grid.Column="0" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />

                                <Label Text="End Date" FontSize="12" Grid.Row="0" Grid.Column="1" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Center" />
                                <Label x:Name="confirmedlbl" FontSize="16" Grid.Row="1" Grid.Column="1" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Center" />



                            </Grid>
                        </StackLayout>
                    </Border>


                    <Label Text="Frequency" FontSize="16" Margin="0,20,0,0" TextColor="#ac5735" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />
                    <Border Stroke="#f9f4e5"
StrokeThickness="1" Margin="0,10,20,0"
StrokeShape="RoundRectangle 10" 
Background="Transparent"
HorizontalOptions="FillAndExpand">
                        <StackLayout Margin="10,10,0,10">
                            <Label Text="Frequency" FontSize="12" Margin="0,0,0,0" TextColor="Gray" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />
                            <Label x:Name="confirmfreqlbl" FontSize="16" Margin="0,0,0,0" TextColor="#031926" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />


                            <syncfusion:SfListView x:Name="confirmtimesanddosageslistview"
                               AutoFitMode="Height"
                                                  
                          Margin="0,0,10,20"
                                                          
                                                BackgroundColor="Transparent"
                                        SelectionMode="None"
                                           VerticalOptions="CenterAndExpand"
                                 
                               Orientation="Vertical"
                               >
                                <!--<syncfusion:SfListView.ItemsLayout>
                            <syncfusion:GridLayout SpanCount="3"/>
                        </syncfusion:SfListView.ItemsLayout>-->
                                <syncfusion:SfListView.ItemTemplate>
                                    <DataTemplate>
                                        <ViewCell>
                                            <StackLayout>
                                                <Label Text="{Binding Day}" FontSize="12" Margin="20,0,0,0" VerticalOptions="Start" TextColor="#ac5735" FontFamily="HankenGroteskBold" FontAttributes="None" HorizontalOptions="Start" />

                                                <Frame CornerRadius="10"  Margin="5,5,5,5" Padding="5" HasShadow="False" BackgroundColor="Transparent" InputTransparent="False"
BorderColor="#f9f4e5">
                                                    <Grid HorizontalOptions="FillAndExpand">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50*"/>
                                                            <ColumnDefinition Width="50*"/>
                                                        </Grid.ColumnDefinitions>

                                                        <Grid HorizontalOptions="FillAndExpand" Grid.Column="0" Grid.Row="0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>
                                                            </Grid.RowDefinitions>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="15*"/>
                                                                <ColumnDefinition Width="35*"/>

                                                            </Grid.ColumnDefinitions>

                                                            <Image Source="icontimepicker.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" HeightRequest="25" VerticalOptions="Center" HorizontalOptions="Center"  Margin="5,10,0,0"/>


                                                            <Label Text="Time" Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start" />


                                                            <TimePicker Time="{Binding timeconverted}" IsEnabled="False" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26">

                                                            </TimePicker>
                                                        </Grid>
                                                        <Grid HorizontalOptions="FillAndExpand" Grid.Column="1" Grid.Row="0">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="Auto"/>
                                                                <RowDefinition Height="Auto"/>


                                                            </Grid.RowDefinitions>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="15*"/>
                                                                <ColumnDefinition Width="35*"/>

                                                            </Grid.ColumnDefinitions>

                                                            <Image Source="pillicon.png" Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" HeightRequest="25" VerticalOptions="Center" HorizontalOptions="Start"  Margin="5,10,0,0"/>


                                                            <Label Grid.Row="0" Grid.Column="1" FontSize="10" Margin="0,5,0,0" VerticalOptions="Start" TextColor="#031926" FontFamily="HankenGroteskRegular" FontAttributes="None" HorizontalOptions="Start">
                                                                <Label.FormattedText>
                                                                    <FormattedString>
                                                                        <Span Text="Dosage - " TextColor="#031926" />
                                                                        <Span Text="{Binding dosageunit}" TextColor="#ac5735"  FontAttributes="Bold"/>
                                                                    </FormattedString>
                                                                </Label.FormattedText>
                                                            </Label>
                                                            <Label Text="{Binding Dosage}" IsVisible="{Binding Labelvis}" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalTextAlignment="Center" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="26" />
                                                            <Entry Placeholder="Dosage" IsVisible="{Binding Entryvis}" Text="{Binding Dosage}" ReturnType="Done" PlaceholderColor="LightGrey" Margin="0,10,0,0" FontFamily="HankenGroteskBold" Keyboard="Numeric" HorizontalTextAlignment="Start" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" VerticalOptions="Center"  TextColor="#ac5735" FontSize="26" TextChanged="Entry_TextChanged" />

                                                            <!--<Label Text="{Binding dosageunit}" Margin="0,0,0,-5" FontFamily="HankenGroteskRegular" HorizontalOptions="Center"  Grid.Row="2" Grid.RowSpan="1" Grid.Column="4" VerticalOptions="End"  TextColor="Gray" FontSize="12" />-->

                                                            <TimePicker Time="{Binding timeconverted}" IsEnabled="False" Opacity="0" IsVisible="True" Margin="0,10,0,0" FontFamily="HankenGroteskBold" HorizontalOptions="Start"  Grid.Row="0" Grid.Column="0" Grid.RowSpan="2" BackgroundColor="Transparent"  VerticalOptions="Center"  TextColor="#031926" FontSize="26">

                                                            </TimePicker>

                                                        </Grid>


                                                    </Grid>
                                                </Frame>


                                            </StackLayout>
                                        </ViewCell>
                                    </DataTemplate>
                                </syncfusion:SfListView.ItemTemplate>

                            </syncfusion:SfListView>


                        </StackLayout>
                    </Border>


                    <Button x:Name="ConfirmBtn"
BackgroundColor="#ac5735"
HorizontalOptions="FillAndExpand"
TextColor="White"
 Clicked="Button_Clicked"
FontAttributes="None"
     Margin="0,10,20,10"
FontFamily="HankenGroteskBold"
Text="Confirm Supplement" />

                </StackLayout>

            </StackLayout>
        </ScrollView>



    </Grid>

</ContentPage>